<!DOCTYPE html>
<!-- saved from url=(0051)file:///E:/javascript/bai47-change-event/index.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Change Event</title>
	<link rel="stylesheet" href="file:///E:/javascript/bai47-change-event/index.html">
</head>
<body>
	<span>AGE:</span>
	<select id="age-filter">
		<option>20</option>
		<option>19</option>
		<option>18</option>
	</select>
	<div><input type="text" class="user-name"></div>
	<div><input type="text" class="age"></div>	
	<button id="add-btn" type="button"> ADD</button>
	<table id="student-list">
		
	</table>
	
	<script type="text/javascript">
		var addBtn = document.getElementById('add-btn');
		var ageFilter = document.getElementById('age-filter');
		addBtn.addEventListener('click',addStudent);
		//ageFilter.addEventListener('change',filter);
		var students = [
			{name:'nghia', age : 20},
			{name:'toan', age : 19},
			{name:'phuc', age : 18},
		];

		// function filter() {
		// 	var chooseAge = parseInt(ageFilter.value);
		// 	var studentChoose = students.filter(function(student) {
		// 		return student.age ===chooseAge;
		// 	});
			
		// 	render(studentChoose);

		// }
		function addStudent(){
			var userName = document.getElementsByClassName('user-name');
			var age = document.getElementsByClassName('age');
			var newStudent = {
				name : userName.value,
				age : parseInt(age.value)
			};

			students.push(newStudent);
			render(students);

		};
		function render(students) {
			var studentList = document.getElementById('student-list');
			var content = students.map(function(item) {
				return '<tr><td>'+ item.name + '</td><td>' +item.age+ '</td></tr>';

			});
			console.log(content);
			studentList.innerHTML = content.join('');
		};
		// filter();
	</script>

</body></html>